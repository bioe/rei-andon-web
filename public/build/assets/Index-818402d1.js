import{s as S,v as j,j as r,a as c,u as l,w as d,F as h,o,X as C,d as u,t as n,b as e,e as E,f as N,g as O,c as p,k,l as b,q as v,O as V}from"./app-03359aa8.js";import{P as x}from"./PrimaryButton-ed7a7ad1.js";import{H as g,f as D,_ as U}from"./helper-7a106e01.js";import{A}from"./AuthenticatedLayout-895c8f70.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-a8e9241e.js";const I={class:"my-3 p-3 bg-body rounded shadow-sm"},T=["onSubmit"],F={class:"row mb-3"},H={class:"col-md-3"},K={class:"form-floating mb-3"},L=e("label",{for:"keywordInput"},"Keyword",-1),M={class:"col-12"},P=e("i",{class:"bi bi-search"},null,-1),q={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},G=e("i",{class:"bi bi-plus"},null,-1),R={class:"table table-bordered table-striped table-hover"},X={key:0,width:"10%"},z=e("i",{class:"bi bi-pencil"},null,-1),J=["onClick"],Q=e("i",{class:"bi bi-trash"},null,-1),W=[Q],Y={key:1},de={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},useUsername:{type:Boolean}},setup(i){const w=i,f="users",_=S("Users"),a=j(w.filters),$=s=>{a.sort.field=s,a.sort.direction=a.sort.direction==""||a.sort.direction=="desc"?"asc":"desc",y()},y=()=>{a.get(route(f+".index"),{preserveScroll:!0})},B=(s,m)=>{confirm(`Delete this user ${m} ?`)&&V.delete(route(f+".destroy",s))};return(s,m)=>(o(),r(h,null,[c(l(C),{title:_.value},null,8,["title"]),c(A,null,{header:d(()=>[u(n(_.value),1)]),default:d(()=>[e("div",I,[e("form",{onSubmit:E(y,["prevent"])},[e("div",F,[e("div",H,[e("div",K,[N(e("input",{"onUpdate:modelValue":m[0]||(m[0]=t=>l(a).keyword=t),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[O,l(a).keyword]]),L])]),e("div",M,[c(x,{type:"submit",disabled:l(a).processing},{default:d(()=>[P,u(" Search ")]),_:1},8,["disabled"])])])],40,T),e("div",q,[s.$page.props.auth.isEditable?(o(),p(l(k),{key:0,class:"btn btn-outline-primary btn-sm",href:s.route(f+".create")},{default:d(()=>[G,u(" Create ")]),_:1},8,["href"])):b("",!0)]),e("table",R,[e("thead",null,[e("tr",null,[s.$page.props.auth.isEditable?(o(),p(g,{key:0},{default:d(()=>[u("Actions")]),_:1})):b("",!0),(o(!0),r(h,null,v(i.header,t=>(o(),p(g,{field:t.field,sort:t.sortable?i.filters.sort:null,onSortEvent:$,disabled:l(a).processing},{default:d(()=>[u(n(t.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),e("tbody",null,[(o(!0),r(h,null,v(i.list.data,(t,Z)=>(o(),r("tr",null,[s.$page.props.auth.isEditable?(o(),r("td",X,[c(l(k),{href:s.route(f+".edit",t.id),class:"btn btn-sm btn-link"},{default:d(()=>[z]),_:2},1032,["href"]),t.id!=s.$page.props.auth.user.id?(o(),r("button",{key:0,onClick:ee=>B(t.id,t.name),class:"btn btn-sm btn-link"},W,8,J)):b("",!0)])):b("",!0),i.useUsername?(o(),r("td",Y,n(t.username),1)):b("",!0),e("td",null,n(t.name),1),e("td",null,n(t.email),1),e("td",null,n(l(D)(t.created_at)),1)]))),256))])]),c(U,{data:i.list},null,8,["data"])])]),_:1})],64))}};export{de as default};
