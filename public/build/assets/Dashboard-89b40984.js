import{A as b}from"./AuthenticatedLayout-b8b27567.js";import{q as g,s as v,x,j as t,a as u,u as w,w as _,F as n,o as s,X as D,d as N,y as i,b as a,t as o,l as h}from"./app-e5f83527.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"my-3 p-3 bg-body rounded shadow-sm"},k={class:"row"},V={class:"col-lg-3 text-light"},B=["href"],I={class:"d-flex justify-content-center align-items-center rounded-3 machine-column m-1"},A={class:"text-center"},C={key:0},F={key:1},E={__name:"Dashboard",props:{watches:{type:Object},group_machines:{type:Object},refresh_second:{type:Number}},setup(p){const c=p;let d;const l=g(c.group_machines);v(()=>{d=setInterval(m,c.refresh_second*1e3)}),x(()=>{clearInterval(d)});const m=async()=>{try{const r=await axios.get(route("dashboard.refresh"));l.value=r.data.group_machines}catch{}};return(r,L)=>(s(),t(n,null,[u(w(D),{title:"Dashboard"}),u(b,null,{header:_(()=>[N(" Dashboard ")]),default:_(()=>[(s(!0),t(n,null,i(l.value,(f,y)=>(s(),t("div",j,[a("h3",null,o(y),1),a("div",k,[(s(!0),t(n,null,i(f,e=>(s(),t("div",V,[a("a",{href:r.route("statusrecords.create")+"?machine_code="+e.code,style:{"text-decoration":"none",color:"inherit"}},[a("div",I,[a("div",A,[a("h3",null,o(e.code),1),e.last_status_record&&e.last_status_record.status!=null&&e.last_status_record.attended==null?(s(),t("h4",C,o(e.last_status_record.status.code),1)):h("",!0),e.last_status_record&&e.last_status_record.attended!=null?(s(),t("h5",F,o(e.last_status_record.attended.employee_name)+" - "+o(e.last_status_record.attended.response_option),1)):h("",!0)])])],8,B)]))),256))])]))),256))]),_:1})],64))}};export{E as default};
