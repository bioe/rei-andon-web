import{l as O,v as V,h as n,a as m,u as o,w as u,F as _,o as d,X as j,d as c,t as l,b as e,e as A,f as g,g as I,A as N,z as f,c as w,j as p,O as $}from"./app-b234bed5.js";import{P as C}from"./PrimaryButton-3f7b9b68.js";import{H as k,f as b,_ as D}from"./helper-74f48221.js";import{A as E}from"./AuthenticatedLayout-ebf9b68c.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"my-3 p-3 bg-body rounded shadow-sm"},M=["onSubmit"],T={class:"row mb-3"},F={class:"col-md-3"},H={class:"form-floating mb-3"},K=e("label",{for:"keywordInput"},"Keyword",-1),L={class:"col-md-3"},P={class:"form-floating mb-3"},R=e("option",{value:null},"All",-1),U=["value"],G=e("label",{for:"zoneInput"},"Zone",-1),X={class:"col-12"},Z=e("i",{class:"bi bi-search"},null,-1),q={class:"table table-bordered table-striped table-hover"},J={key:0,width:"10%"},Q=["onClick"],W=e("i",{class:"bi bi-trash"},null,-1),Y=[W],ee=e("br",null,null,-1),re={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},segments:{type:Object}},setup(a){const x=a,h="statusrecords",y=O("Records"),s=V(x.filters),S=r=>{s.sort.field=r,s.sort.direction=s.sort.direction==""||s.sort.direction=="desc"?"asc":"desc",v()},v=()=>{s.get(route(h+".index"),{preserveScroll:!0})},B=(r,i)=>{confirm(`Delete this status ${i} ?`)&&$.delete(route(h+".destroy",r))};return(r,i)=>(d(),n(_,null,[m(o(j),{title:y.value},null,8,["title"]),m(E,null,{header:u(()=>[c(l(y.value),1)]),default:u(()=>[e("div",z,[e("form",{onSubmit:A(v,["prevent"])},[e("div",T,[e("div",F,[e("div",H,[g(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>o(s).keyword=t),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[I,o(s).keyword]]),K])]),e("div",L,[e("div",P,[g(e("select",{"onUpdate:modelValue":i[1]||(i[1]=t=>o(s).segment_code=t),class:"form-select",id:"zoneInput"},[R,(d(!0),n(_,null,f(a.segments,t=>(d(),n("option",{value:t.code},l(t.code),9,U))),256))],512),[[N,o(s).segment_code]]),G])]),e("div",X,[m(C,{type:"submit",disabled:o(s).processing},{default:u(()=>[Z,c(" Search ")]),_:1},8,["disabled"])])])],40,M),e("table",q,[e("thead",null,[e("tr",null,[r.$page.props.auth.isEditable?(d(),w(k,{key:0},{default:u(()=>[c("Actions")]),_:1})):p("",!0),(d(!0),n(_,null,f(a.header,t=>(d(),w(k,{field:t.field,sort:t.sortable?a.filters.sort:null,onSortEvent:S,disabled:o(s).processing},{default:u(()=>[c(l(t.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),e("tbody",null,[(d(!0),n(_,null,f(a.list.data,(t,te)=>(d(),n("tr",null,[r.$page.props.auth.isEditable?(d(),n("td",J,[e("button",{onClick:se=>B(t.id,t.id),class:"btn btn-sm btn-link"},Y,8,Q)])):p("",!0),e("td",null,l(t.machine_code),1),e("td",null,l(t.segment_code),1),e("td",null,l(t.employee_code),1),e("td",null,l(o(b)(t.created_at)),1),e("td",null,[c(l(o(b)(t.last_responsed_at))+" ",1),t.last_responsed_employee?(d(),n(_,{key:0},[ee,c(" By: "+l(t.last_responsed_employee),1)],64)):p("",!0)]),e("td",null,l(o(b)(t.attended_at)),1),e("td",null,l(o(b)(t.resolved_at)),1)]))),256))])]),m(D,{data:a.list},null,8,["data"])])]),_:1})],64))}};export{re as default};
