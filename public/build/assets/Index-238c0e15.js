import{l as E,v as N,h as i,a as b,u as a,w as n,F as _,o as l,X as O,d as f,t as d,b as t,e as V,f as D,g as L,c as p,i as k,j as h,z as v,O as w}from"./app-9a9cc906.js";import{P as A}from"./PrimaryButton-2a6de9aa.js";import{H as $,f as F,_ as I}from"./helper-af3a68e0.js";import{A as T}from"./AuthenticatedLayout-17adbd7d.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"my-3 p-3 bg-body rounded shadow-sm"},K=["onSubmit"],M={class:"row mb-3"},P={class:"col-md-3"},z={class:"form-floating mb-3"},G=t("label",{for:"keywordInput"},"Keyword",-1),R={class:"col-12"},U=t("i",{class:"bi bi-search"},null,-1),W={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},X=t("i",{class:"bi bi-plus"},null,-1),q={class:"table table-bordered table-striped table-hover"},J={key:0,width:"10%"},Q=t("i",{class:"bi bi-pencil"},null,-1),Y=["onClick"],Z=t("i",{class:"bi bi-trash"},null,-1),tt=[Z],et=["onClick"],st=t("i",{class:"bi bi-door-closed"},null,-1),ot=[st],ct={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})}},setup(c){const C=c,u="watches",m=E("Watch"),o=N(C.filters),S=s=>{o.sort.field=s,o.sort.direction=o.sort.direction==""||o.sort.direction=="desc"?"asc":"desc",y()},y=()=>{o.get(route(u+".index"),{preserveScroll:!0})},j=(s,r)=>{confirm(`Delete this status ${r} ?`)&&w.delete(route(u+".destroy",s))},x=(s,r)=>{confirm(`Logout operator from watch ${r} ?`)&&w.post(route(u+".logout",s))};return(s,r)=>(l(),i(_,null,[b(a(O),{title:m.value},null,8,["title"]),b(T,null,{header:n(()=>[f(d(m.value),1)]),default:n(()=>[t("div",H,[t("form",{onSubmit:V(y,["prevent"])},[t("div",M,[t("div",P,[t("div",z,[D(t("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>a(o).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[L,a(o).keyword]]),G])]),t("div",R,[b(A,{type:"submit",disabled:a(o).processing},{default:n(()=>[U,f(" Search ")]),_:1},8,["disabled"])])])],40,K),t("div",W,[s.$page.props.auth.isEditable?(l(),p(a(k),{key:0,class:"btn btn-outline-primary btn-sm",href:s.route(u+".create")},{default:n(()=>[X,f(" Create ")]),_:1},8,["href"])):h("",!0)]),t("table",q,[t("thead",null,[t("tr",null,[s.$page.props.auth.isEditable?(l(),p($,{key:0},{default:n(()=>[f("Actions")]),_:1})):h("",!0),(l(!0),i(_,null,v(c.header,e=>(l(),p($,{field:e.field,sort:e.sortable?c.filters.sort:null,onSortEvent:S,disabled:a(o).processing},{default:n(()=>[f(d(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(l(!0),i(_,null,v(c.list.data,(e,lt)=>{var g;return l(),i("tr",null,[s.$page.props.auth.isEditable?(l(),i("td",J,[b(a(k),{href:s.route(u+".edit",e.id),class:"btn btn-sm btn-link"},{default:n(()=>[Q]),_:2},1032,["href"]),t("button",{onClick:B=>j(e.id,e.name),class:"btn btn-sm btn-link"},tt,8,Y),e.login_user?(l(),i("button",{key:0,onClick:B=>x(e.id,e.code),class:"btn btn-sm btn-link",title:"Force Logout"},ot,8,et)):h("",!0)])):h("",!0),t("td",null,d(e.code),1),t("td",null,d(e.ip_address),1),t("td",null,d(((g=e.login_user)==null?void 0:g.username)??""),1),t("td",null,d(a(F)(e.created_at)),1)])}),256))])]),b(I,{data:c.list},null,8,["data"])])]),_:1})],64))}};export{ct as default};
