import{l as O,v as V,h as n,a as f,u as o,w as u,F as _,o as d,X as j,d as a,t as s,b as t,e as A,f as g,g as I,A as N,z as m,c as w,j as h,O as $}from"./app-2d264a90.js";import{P as C}from"./PrimaryButton-3a89831f.js";import{H as k,f as b,_ as D}from"./helper-3a310505.js";import{A as E}from"./AuthenticatedLayout-fb59e3c2.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"my-3 p-3 bg-body rounded shadow-sm"},M=["onSubmit"],T={class:"row mb-3"},F={class:"col-md-3"},H={class:"form-floating mb-3"},K=t("label",{for:"keywordInput"},"Keyword",-1),L={class:"col-md-3"},P={class:"form-floating mb-3"},R=t("option",{value:null},"All",-1),U=["value"],G=t("label",{for:"zoneInput"},"Zone",-1),X={class:"col-12"},Z=t("i",{class:"bi bi-search"},null,-1),q={class:"table table-bordered table-striped table-hover"},J={key:0,width:"5%"},Q=["onClick"],W=t("i",{class:"bi bi-trash"},null,-1),Y=[W],tt=t("br",null,null,-1),et=t("br",null,null,-1),it={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},segments:{type:Object}},setup(r){const x=r,p="statusrecords",y=O("Records"),l=V(x.filters),S=i=>{l.sort.field=i,l.sort.direction=l.sort.direction==""||l.sort.direction=="desc"?"asc":"desc",v()},v=()=>{l.get(route(p+".index"),{preserveScroll:!0})},B=(i,c)=>{confirm(`Delete this status ${c} ?`)&&$.delete(route(p+".destroy",i))};return(i,c)=>(d(),n(_,null,[f(o(j),{title:y.value},null,8,["title"]),f(E,null,{header:u(()=>[a(s(y.value),1)]),default:u(()=>[t("div",z,[t("form",{onSubmit:A(v,["prevent"])},[t("div",T,[t("div",F,[t("div",H,[g(t("input",{"onUpdate:modelValue":c[0]||(c[0]=e=>o(l).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[I,o(l).keyword]]),K])]),t("div",L,[t("div",P,[g(t("select",{"onUpdate:modelValue":c[1]||(c[1]=e=>o(l).segment_code=e),class:"form-select",id:"zoneInput"},[R,(d(!0),n(_,null,m(r.segments,e=>(d(),n("option",{value:e.code},s(e.code),9,U))),256))],512),[[N,o(l).segment_code]]),G])]),t("div",X,[f(C,{type:"submit",disabled:o(l).processing},{default:u(()=>[Z,a(" Search ")]),_:1},8,["disabled"])])])],40,M),t("table",q,[t("thead",null,[t("tr",null,[i.$page.props.auth.isEditable?(d(),w(k,{key:0},{default:u(()=>[a("Actions")]),_:1})):h("",!0),(d(!0),n(_,null,m(r.header,e=>(d(),w(k,{field:e.field,sort:e.sortable?r.filters.sort:null,onSortEvent:S,disabled:o(l).processing},{default:u(()=>[a(s(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(d(!0),n(_,null,m(r.list.data,(e,st)=>(d(),n("tr",null,[i.$page.props.auth.isEditable?(d(),n("td",J,[t("button",{onClick:ot=>B(e.id,e.id),class:"btn btn-sm btn-link"},Y,8,Q)])):h("",!0),t("td",null,s(e.machine_code),1),t("td",null,s(e.segment_code),1),t("td",null,s(e.employee_code),1),t("td",null,s(o(b)(e.created_at)),1),t("td",null,[a(s(e.status.code),1),tt,a(" "+s(e.status.name),1)]),t("td",null,[e.attending?(d(),n(_,{key:0},[a(s(o(b)(e.attending.created_at))+" ",1),et,a(" By: "+s(e.attending.employee_name),1)],64)):h("",!0)]),t("td",null,s(o(b)(e.attended_at)),1),t("td",null,s(o(b)(e.resolved_at)),1),t("td",null,s(o(b)(e.completed_at)),1)]))),256))])]),f(D,{data:r.list},null,8,["data"])])]),_:1})],64))}};export{it as default};
