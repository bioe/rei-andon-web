import{l as B,v as S,h as r,a as c,u as l,w as i,F as f,o,X as j,d as n,t as b,b as t,e as x,f as C,g as N,c as h,i as g,j as d,z as k,O}from"./app-f4600b19.js";import{P as V}from"./PrimaryButton-a07ebe0b.js";import{H as v,f as D,_ as I}from"./helper-f49a3482.js";import{A as U}from"./AuthenticatedLayout-d6073af8.js";import A from"./ImportModal-ee13a4e8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashAlert-cc97bbf7.js";import"./InputError-24870528.js";import"./InputLabel-c96cc808.js";import"./Modal-4aeb1128.js";const M={class:"my-3 p-3 bg-body rounded shadow-sm"},T=["onSubmit"],F={class:"row mb-3"},H={class:"col-md-3"},K={class:"form-floating mb-3"},L=t("label",{for:"keywordInput"},"Keyword",-1),P={class:"col-12"},z=t("i",{class:"bi bi-search"},null,-1),G={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},R=t("i",{class:"bi bi-plus"},null,-1),X=["href"],q=t("i",{class:"bi bi-filetype-xls"},null,-1),J={key:2,class:"btn btn-outline-primary btn-sm","data-bs-toggle":"modal","data-bs-target":"#importModal"},Q=t("i",{class:"bi bi-filetype-xls"},null,-1),W={class:"table table-bordered table-striped table-hover"},Y={key:0,width:"10%"},Z=t("i",{class:"bi bi-pencil"},null,-1),tt=["onClick"],et=t("i",{class:"bi bi-trash"},null,-1),st=[et],ot={key:1},ht={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},useUsername:{type:Boolean}},setup(u){const w=u,p="users",_=B("Users"),a=S(w.filters),$=s=>{a.sort.field=s,a.sort.direction=a.sort.direction==""||a.sort.direction=="desc"?"asc":"desc",y()},y=()=>{a.get(route(p+".index"),{preserveScroll:!0})},E=(s,m)=>{confirm(`Delete this user ${m} ?`)&&O.delete(route(p+".destroy",s))};return(s,m)=>(o(),r(f,null,[c(l(j),{title:_.value},null,8,["title"]),c(U,null,{header:i(()=>[n(b(_.value),1)]),default:i(()=>[t("div",M,[t("form",{onSubmit:x(y,["prevent"])},[t("div",F,[t("div",H,[t("div",K,[C(t("input",{"onUpdate:modelValue":m[0]||(m[0]=e=>l(a).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[N,l(a).keyword]]),L])]),t("div",P,[c(V,{type:"submit",disabled:l(a).processing},{default:i(()=>[z,n(" Search ")]),_:1},8,["disabled"])])])],40,T),t("div",G,[s.$page.props.auth.isEditable?(o(),h(l(g),{key:0,class:"btn btn-outline-primary btn-sm",href:s.route(p+".create")},{default:i(()=>[R,n(" Create ")]),_:1},8,["href"])):d("",!0),s.$page.props.auth.isEditable?(o(),r("a",{key:1,class:"btn btn-outline-primary btn-sm",target:"_blank",href:s.route(p+".export")},[q,n(" Export ")],8,X)):d("",!0),s.$page.props.auth.isEditable?(o(),r("button",J,[Q,n(" Import ")])):d("",!0)]),t("table",W,[t("thead",null,[t("tr",null,[s.$page.props.auth.isEditable?(o(),h(v,{key:0},{default:i(()=>[n("Actions")]),_:1})):d("",!0),(o(!0),r(f,null,k(u.header,e=>(o(),h(v,{field:e.field,sort:e.sortable?u.filters.sort:null,onSortEvent:$,disabled:l(a).processing},{default:i(()=>[n(b(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(o(!0),r(f,null,k(u.list.data,(e,at)=>(o(),r("tr",null,[s.$page.props.auth.isEditable?(o(),r("td",Y,[c(l(g),{href:s.route(p+".edit",e.id),class:"btn btn-sm btn-link"},{default:i(()=>[Z]),_:2},1032,["href"]),e.id!=s.$page.props.auth.user.id?(o(),r("button",{key:0,onClick:rt=>E(e.id,e.name),class:"btn btn-sm btn-link"},st,8,tt)):d("",!0)])):d("",!0),u.useUsername?(o(),r("td",ot,b(e.username),1)):d("",!0),t("td",null,b(e.name),1),t("td",null,b(e.user_type),1),t("td",null,b(l(D)(e.created_at)),1)]))),256))])]),c(I,{data:u.list},null,8,["data"])]),c(A)]),_:1})],64))}};export{ht as default};
