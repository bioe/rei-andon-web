import{q as V,v as j,j as n,a as _,u as o,w as u,F as m,o as l,X as B,d as c,t as d,b as e,e as I,f as y,g as N,z as $,y as b,c as v,l as g,O as A}from"./app-88023183.js";import{P as C}from"./PrimaryButton-aaf8094b.js";import{H as w,f as k,_ as D}from"./helper-fb3b68e8.js";import{A as E}from"./AuthenticatedLayout-0ba6697e.js";import"./_plugin-vue_export-helper-c27b6911.js";const z={class:"my-3 p-3 bg-body rounded shadow-sm"},M=["onSubmit"],T={class:"row mb-3"},F={class:"col-md-3"},H={class:"form-floating mb-3"},K=e("label",{for:"keywordInput"},"Keyword",-1),L={class:"col-md-3"},P={class:"form-floating mb-3"},R=e("option",{value:null},"All",-1),U=["value"],q=e("label",{for:"zoneInput"},"Zone",-1),G={class:"col-12"},X=e("i",{class:"bi bi-search"},null,-1),Z={class:"table table-bordered table-striped table-hover"},J={key:0,width:"10%"},Q=["onClick"],W=e("i",{class:"bi bi-trash"},null,-1),Y=[W],ee=e("br",null,null,-1),re={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},segments:{type:Object}},setup(a){const x=a,f="statusrecords.records",p=V("Records"),s=j(x.filters),S=r=>{s.sort.field=r,s.sort.direction=s.sort.direction==""||s.sort.direction=="desc"?"asc":"desc",h()},h=()=>{s.get(route(f+".index"),{preserveScroll:!0})},O=(r,i)=>{confirm(`Delete this status ${i} ?`)&&A.delete(route(f+".destroy",r))};return(r,i)=>(l(),n(m,null,[_(o(B),{title:p.value},null,8,["title"]),_(E,null,{header:u(()=>[c(d(p.value),1)]),default:u(()=>[e("div",z,[e("form",{onSubmit:I(h,["prevent"])},[e("div",T,[e("div",F,[e("div",H,[y(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>o(s).keyword=t),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[N,o(s).keyword]]),K])]),e("div",L,[e("div",P,[y(e("select",{"onUpdate:modelValue":i[1]||(i[1]=t=>o(s).segment_code=t),class:"form-select",id:"zoneInput"},[R,(l(!0),n(m,null,b(a.segments,t=>(l(),n("option",{value:t.code},d(t.code),9,U))),256))],512),[[$,o(s).segment_code]]),q])]),e("div",G,[_(C,{type:"submit",disabled:o(s).processing},{default:u(()=>[X,c(" Search ")]),_:1},8,["disabled"])])])],40,M),e("table",Z,[e("thead",null,[e("tr",null,[r.$page.props.auth.isEditable?(l(),v(w,{key:0},{default:u(()=>[c("Actions")]),_:1})):g("",!0),(l(!0),n(m,null,b(a.header,t=>(l(),v(w,{field:t.field,sort:t.sortable?a.filters.sort:null,onSortEvent:S,disabled:o(s).processing},{default:u(()=>[c(d(t.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),e("tbody",null,[(l(!0),n(m,null,b(a.list.data,(t,te)=>(l(),n("tr",null,[r.$page.props.auth.isEditable?(l(),n("td",J,[e("button",{onClick:se=>O(t.id,t.id),class:"btn btn-sm btn-link"},Y,8,Q)])):g("",!0),e("td",null,d(t.machine_code),1),e("td",null,d(t.segment_code),1),e("td",null,d(t.employee_code),1),e("td",null,d(o(k)(t.created_at)),1),e("td",null,[c(d(o(k)(t.last_responsed_at))+" ",1),ee,c(" "+d(t.last_responsed_employee),1)])]))),256))])]),_(D,{data:a.list},null,8,["data"])])]),_:1})],64))}};export{re as default};
