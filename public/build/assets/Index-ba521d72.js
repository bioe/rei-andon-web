import{l as S,v as j,h as r,a as u,u as l,w as d,F as m,o,X as C,d as c,t as i,b as e,e as E,f as N,g as O,c as p,i as k,j as b,z as v,O as V}from"./app-1c063c3a.js";import{P as x}from"./PrimaryButton-8e6a2db9.js";import{H as g,f as D,_ as U}from"./helper-27aeed95.js";import{A}from"./AuthenticatedLayout-b947170a.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"my-3 p-3 bg-body rounded shadow-sm"},T=["onSubmit"],F={class:"row mb-3"},H={class:"col-md-3"},K={class:"form-floating mb-3"},L=e("label",{for:"keywordInput"},"Keyword",-1),M={class:"col-12"},P=e("i",{class:"bi bi-search"},null,-1),z={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},G=e("i",{class:"bi bi-plus"},null,-1),R={class:"table table-bordered table-striped table-hover"},X={key:0,width:"10%"},q=e("i",{class:"bi bi-pencil"},null,-1),J=["onClick"],Q=e("i",{class:"bi bi-trash"},null,-1),W=[Q],Y={key:1},re={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},useUsername:{type:Boolean}},setup(n){const w=n,f="users",_=S("Users"),a=j(w.filters),$=s=>{a.sort.field=s,a.sort.direction=a.sort.direction==""||a.sort.direction=="desc"?"asc":"desc",y()},y=()=>{a.get(route(f+".index"),{preserveScroll:!0})},B=(s,h)=>{confirm(`Delete this user ${h} ?`)&&V.delete(route(f+".destroy",s))};return(s,h)=>(o(),r(m,null,[u(l(C),{title:_.value},null,8,["title"]),u(A,null,{header:d(()=>[c(i(_.value),1)]),default:d(()=>[e("div",I,[e("form",{onSubmit:E(y,["prevent"])},[e("div",F,[e("div",H,[e("div",K,[N(e("input",{"onUpdate:modelValue":h[0]||(h[0]=t=>l(a).keyword=t),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[O,l(a).keyword]]),L])]),e("div",M,[u(x,{type:"submit",disabled:l(a).processing},{default:d(()=>[P,c(" Search ")]),_:1},8,["disabled"])])])],40,T),e("div",z,[s.$page.props.auth.isEditable?(o(),p(l(k),{key:0,class:"btn btn-outline-primary btn-sm",href:s.route(f+".create")},{default:d(()=>[G,c(" Create ")]),_:1},8,["href"])):b("",!0)]),e("table",R,[e("thead",null,[e("tr",null,[s.$page.props.auth.isEditable?(o(),p(g,{key:0},{default:d(()=>[c("Actions")]),_:1})):b("",!0),(o(!0),r(m,null,v(n.header,t=>(o(),p(g,{field:t.field,sort:t.sortable?n.filters.sort:null,onSortEvent:$,disabled:l(a).processing},{default:d(()=>[c(i(t.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),e("tbody",null,[(o(!0),r(m,null,v(n.list.data,(t,Z)=>(o(),r("tr",null,[s.$page.props.auth.isEditable?(o(),r("td",X,[u(l(k),{href:s.route(f+".edit",t.id),class:"btn btn-sm btn-link"},{default:d(()=>[q]),_:2},1032,["href"]),t.id!=s.$page.props.auth.user.id?(o(),r("button",{key:0,onClick:ee=>B(t.id,t.name),class:"btn btn-sm btn-link"},W,8,J)):b("",!0)])):b("",!0),n.useUsername?(o(),r("td",Y,i(t.username),1)):b("",!0),e("td",null,i(t.name),1),e("td",null,i(t.user_type),1),e("td",null,i(l(D)(t.created_at)),1)]))),256))])]),u(U,{data:n.list},null,8,["data"])])]),_:1})],64))}};export{re as default};
