import{s as j,v as x,j as i,a as c,u as l,w as r,F as p,o as a,X as B,d as u,t as d,b as t,e as C,f as E,g as N,c as m,k as g,l as h,q as v,O}from"./app-a00b55ef.js";import{P as V}from"./PrimaryButton-0ccf51a5.js";import{H as k,f as D,_ as A}from"./helper-698bd4ca.js";import{A as I}from"./AuthenticatedLayout-9537a59f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ApplicationLogo-11791e67.js";const T={class:"my-3 p-3 bg-body rounded shadow-sm"},F=["onSubmit"],G={class:"row mb-3"},H={class:"col-md-3"},K={class:"form-floating mb-3"},L=t("label",{for:"keywordInput"},"Keyword",-1),M={class:"col-12"},P=t("i",{class:"bi bi-search"},null,-1),q={class:"d-grid gap-2 d-md-flex justify-content-md-end mb-3"},R=t("i",{class:"bi bi-plus"},null,-1),U={class:"table table-bordered table-striped table-hover"},X={key:0,width:"10%"},z=t("i",{class:"bi bi-pencil"},null,-1),J=["onClick"],Q=t("i",{class:"bi bi-trash"},null,-1),W=[Q],rt={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})}},setup(n){const w=n,b="groups",_=j("Group"),s=x(w.filters),S=o=>{s.sort.field=o,s.sort.direction=s.sort.direction==""||s.sort.direction=="desc"?"asc":"desc",y()},y=()=>{s.get(route(b+".index"),{preserveScroll:!0})},$=(o,f)=>{confirm(`Delete this group ${f} ?`)&&O.delete(route(b+".destroy",o))};return(o,f)=>(a(),i(p,null,[c(l(B),{title:_.value},null,8,["title"]),c(I,null,{header:r(()=>[u(d(_.value),1)]),default:r(()=>[t("div",T,[t("form",{onSubmit:C(y,["prevent"])},[t("div",G,[t("div",H,[t("div",K,[E(t("input",{"onUpdate:modelValue":f[0]||(f[0]=e=>l(s).keyword=e),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[N,l(s).keyword]]),L])]),t("div",M,[c(V,{type:"submit",disabled:l(s).processing},{default:r(()=>[P,u(" Search ")]),_:1},8,["disabled"])])])],40,F),t("div",q,[o.$page.props.auth.isEditable?(a(),m(l(g),{key:0,class:"btn btn-outline-primary btn-sm",href:o.route(b+".create")},{default:r(()=>[R,u(" Create ")]),_:1},8,["href"])):h("",!0)]),t("table",U,[t("thead",null,[t("tr",null,[o.$page.props.auth.isEditable?(a(),m(k,{key:0},{default:r(()=>[u("Actions")]),_:1})):h("",!0),(a(!0),i(p,null,v(n.header,e=>(a(),m(k,{field:e.field,sort:e.sortable?n.filters.sort:null,onSortEvent:S,disabled:l(s).processing},{default:r(()=>[u(d(e.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),t("tbody",null,[(a(!0),i(p,null,v(n.list.data,(e,Y)=>(a(),i("tr",null,[o.$page.props.auth.isEditable?(a(),i("td",X,[c(l(g),{href:o.route(b+".edit",e.id),class:"btn btn-sm btn-link"},{default:r(()=>[z]),_:2},1032,["href"]),t("button",{onClick:Z=>$(e.id,e.name),class:"btn btn-sm btn-link"},W,8,J)])):h("",!0),t("td",null,d(e.name),1),t("td",null,d(e.description),1),t("td",null,d(e.segment_code),1),t("td",null,d(e.machines_label),1),t("td",null,d(l(D)(e.created_at)),1)]))),256))])]),c(A,{data:n.list},null,8,["data"])])]),_:1})],64))}};export{rt as default};
