import{l as V,v as j,h as n,a as _,u as s,w as u,F as m,o as l,X as A,d as c,t as d,b as e,e as B,f as y,g as I,A as N,z as p,c as v,j as g,O as $}from"./app-f4600b19.js";import{P as C}from"./PrimaryButton-a07ebe0b.js";import{H as w,f as k,_ as D}from"./helper-f49a3482.js";import{A as E}from"./AuthenticatedLayout-d6073af8.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./FlashAlert-cc97bbf7.js";const z={class:"my-3 p-3 bg-body rounded shadow-sm"},M=["onSubmit"],R={class:"row mb-3"},T={class:"col-md-3"},F={class:"form-floating mb-3"},H=e("label",{for:"keywordInput"},"Keyword",-1),K={class:"col-md-3"},L={class:"form-floating mb-3"},P=e("option",{value:null},"All",-1),U=["value"],G=e("label",{for:"zoneInput"},"Zone",-1),X={class:"col-12"},Z=e("i",{class:"bi bi-search"},null,-1),q={class:"table table-bordered table-striped table-hover"},J={key:0,width:"10%"},Q=["onClick"],W=e("i",{class:"bi bi-trash"},null,-1),Y=[W],ee=e("br",null,null,-1),ie={__name:"Index",props:{header:{type:Object},filters:{type:Object},list:{type:Object,default:()=>({})},segments:{type:Object}},setup(r){const x=r,b="reports.records",f=V("Record Report"),o=j(x.filters),S=a=>{o.sort.field=a,o.sort.direction=o.sort.direction==""||o.sort.direction=="desc"?"asc":"desc",h()},h=()=>{o.get(route(b+".index"),{preserveScroll:!0})},O=(a,i)=>{confirm(`Delete this status ${i} ?`)&&$.delete(route(b+".destroy",a))};return(a,i)=>(l(),n(m,null,[_(s(A),{title:f.value},null,8,["title"]),_(E,null,{header:u(()=>[c(d(f.value),1)]),default:u(()=>[e("div",z,[e("form",{onSubmit:B(h,["prevent"])},[e("div",R,[e("div",T,[e("div",F,[y(e("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>s(o).keyword=t),type:"text",class:"form-control",id:"keywordInput",placeholder:"Keyword",autocomplete:"off"},null,512),[[I,s(o).keyword]]),H])]),e("div",K,[e("div",L,[y(e("select",{"onUpdate:modelValue":i[1]||(i[1]=t=>s(o).segment_code=t),class:"form-select",id:"zoneInput"},[P,(l(!0),n(m,null,p(r.segments,t=>(l(),n("option",{value:t.code},d(t.code),9,U))),256))],512),[[N,s(o).segment_code]]),G])]),e("div",X,[_(C,{type:"submit",disabled:s(o).processing},{default:u(()=>[Z,c(" Search ")]),_:1},8,["disabled"])])])],40,M),e("table",q,[e("thead",null,[e("tr",null,[a.$page.props.auth.isEditable?(l(),v(w,{key:0},{default:u(()=>[c("Actions")]),_:1})):g("",!0),(l(!0),n(m,null,p(r.header,t=>(l(),v(w,{field:t.field,sort:t.sortable?r.filters.sort:null,onSortEvent:S,disabled:s(o).processing},{default:u(()=>[c(d(t.title),1)]),_:2},1032,["field","sort","disabled"]))),256))])]),e("tbody",null,[(l(!0),n(m,null,p(r.list.data,(t,te)=>(l(),n("tr",null,[a.$page.props.auth.isEditable?(l(),n("td",J,[e("button",{onClick:oe=>O(t.id,t.id),class:"btn btn-sm btn-link"},Y,8,Q)])):g("",!0),e("td",null,d(t.machine_code),1),e("td",null,d(t.segment_code),1),e("td",null,d(t.employee_code),1),e("td",null,d(s(k)(t.created_at)),1),e("td",null,[c(d(s(k)(t.last_responsed_at))+" ",1),ee,c(" "+d(t.last_responsed_employee),1)])]))),256))])]),_(D,{data:r.list},null,8,["data"])])]),_:1})],64))}};export{ie as default};
