import{q as D,o,h as a,b as e,s as y,t as r,l as B,x as w,y as L,a as g,u as S,w as x,F as $,X as V,d as j,z as k,n as C,j as I}from"./app-5e233097.js";const W={class:"pb-3 mb-4 border-bottom"},q={class:"fs-4"},z={class:"pt-3 mt-4 text-body-secondary border-top"},F={class:"my-1 text-muted"},M={__name:"DashboardLayout",setup(d){return D(()=>{document.body.className="dashboard",document.querySelector("#app").classList=["container py-4"]}),(s,n)=>(o(),a("main",null,[e("div",null,[e("header",W,[e("span",q,[y(s.$slots,"header")])]),y(s.$slots,"default"),e("footer",z,[e("p",F,"Bioenergy Â© 2024 - v"+r(s.$page.props.version),1)])])]))}},A={class:"p-5 mb-4 bg-body-tertiary rounded-3"},E={class:"container-fluid py-1"},O=e("h2",null,"Watch Status",-1),T={class:"row"},U={class:"col-lg-3 text-light"},X={key:0},J={__name:"Dashboard",props:{watches:{type:Object},refresh_second:{type:Number}},setup(d){const s=d;let n;const l=B(s.watches);w(()=>{n=setInterval(N,s.refresh_second*1e3)}),L(()=>{clearInterval(n)});const N=async()=>{try{const c=await axios.get(route("watch_dashboard.refresh"));l.value=c.data.watches}catch{}};return(c,G)=>(o(),a($,null,[g(S(V),{title:"Watch Dashboard"}),g(M,null,{header:x(()=>[j(" Andon Dashboard ")]),default:x(()=>[e("div",A,[e("div",E,[O,e("div",T,[(o(!0),a($,null,k(l.value,t=>{var i,u,_,h,p,m,b,f,v;return o(),a("div",U,[e("div",{class:C(["d-flex flex-column justify-content-center align-items-center rounded-4 watch-column m-1",t.colour_class])},[e("div",null,[e("b",null,r(t.code),1)]),e("div",null,r(((i=t.login_user)==null?void 0:i.name)??"No Login"),1),(u=t.login_user)!=null&&u.active_response_record?(o(),a("div",X,r((p=(h=(_=t.login_user)==null?void 0:_.active_response_record)==null?void 0:h.status_record)==null?void 0:p.machine_code)+" - "+r((v=(f=(b=(m=t.login_user)==null?void 0:m.active_response_record)==null?void 0:b.status_record)==null?void 0:f.status)==null?void 0:v.name),1)):I("",!0)],2)])}),256))])])])]),_:1})],64))}};export{J as default};
